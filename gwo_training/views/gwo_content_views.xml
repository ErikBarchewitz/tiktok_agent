<odoo>
    <data>
        <record id="view_gwo_content_tree" model="ir.ui.view">
            <field name="name">gwo.content.tree</field>
            <field name="model">gwo.content</field>
            <field name="arch" type="xml">
                <tree string="Course Contents">
                    <field name="course_id"/>
                    <field name="name"/>
                    <field name="content_type"/>
                    <field name="is_mandatory"/>
                    <field name="estimated_minutes"/>
                </tree>
            </field>
        </record>

        <record id="view_gwo_content_form" model="ir.ui.view">
            <field name="name">gwo.content.form</field>
            <field name="model">gwo.content</field>
            <field name="arch" type="xml">
                <form string="Content">
                    <sheet>
                        <group>
                            <field name="course_id"/>
                            <field name="name"/>
                            <field name="content_type"/>
                            <field name="related_quiz_id"/>
                            <field name="is_mandatory"/>
                            <field name="estimated_minutes"/>
                        </group>
                        <group>
                            <field name="description" widget="html"/>
                            <field name="url" attrs="{'invisible': [('content_type', 'not in', ['link', 'video'])]}"/>
                            <field name="datas" filename="name" attrs="{'invisible': [('content_type', 'not in', ['presentation', 'image'])]}"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_gwo_content" model="ir.actions.act_window">
            <field name="name">Contents</field>
            <field name="res_model">gwo.content</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_is_mandatory': True}</field>
        </record>

        <record id="view_gwo_enrollment_tree" model="ir.ui.view">
            <field name="name">gwo.enrollment.tree</field>
            <field name="model">gwo.enrollment</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="user_id"/>
                    <field name="course_id"/>
                    <field name="progress_pct" widget="percentpie"/>
                    <field name="final_exam_score"/>
                    <field name="passed"/>
                    <field name="last_activity"/>
                </tree>
            </field>
        </record>

        <record id="view_gwo_enrollment_form" model="ir.ui.view">
            <field name="name">gwo.enrollment.form</field>
            <field name="model">gwo.enrollment</field>
            <field name="arch" type="xml">
                <form string="Enrollment">
                    <sheet>
                        <group>
                            <field name="user_id"/>
                            <field name="course_id"/>
                            <field name="progress_pct" widget="percentpie" readonly="1"/>
                            <field name="passed" readonly="1"/>
                            <field name="final_exam_score" readonly="1"/>
                        </group>
                        <group>
                            <field name="last_activity" readonly="1"/>
                        </group>
                        <notebook>
                            <page string="Results">
                                <field name="result_ids">
                                    <tree editable="bottom">
                                        <field name="content_id"/>
                                        <field name="status"/>
                                        <field name="score"/>
                                        <field name="survey_input_id"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_gwo_enrollment" model="ir.actions.act_window">
            <field name="name">Enrollments</field>
            <field name="res_model">gwo.enrollment</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="view_gwo_user_result_tree" model="ir.ui.view">
            <field name="name">gwo.user.result.tree</field>
            <field name="model">gwo.user.result</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="enrollment_id"/>
                    <field name="content_id"/>
                    <field name="status"/>
                    <field name="score"/>
                    <field name="survey_input_id"/>
                </tree>
            </field>
        </record>

        <record id="view_gwo_user_result_form" model="ir.ui.view">
            <field name="name">gwo.user.result.form</field>
            <field name="model">gwo.user.result</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <field name="enrollment_id"/>
                            <field name="content_id"/>
                            <field name="status"/>
                            <field name="score"/>
                            <field name="survey_input_id"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_gwo_user_result" model="ir.actions.act_window">
            <field name="name">Results</field>
            <field name="res_model">gwo.user.result</field>
            <field name="view_mode">tree,form,pivot,graph</field>
        </record>

        <record id="view_launch_exam_wizard" model="ir.ui.view">
            <field name="name">gwo.launch.exam.wizard.form</field>
            <field name="model">gwo.launch.exam.wizard</field>
            <field name="arch" type="xml">
                <form string="Start Final Exam">
                    <group>
                        <field name="course_id" readonly="1"/>
                        <field name="enrollment_id"/>
                        <field name="final_exam_id" readonly="1"/>
                        <field name="launch_mode"/>
                    </group>
                    <footer>
                        <button name="action_launch" string="Start" type="object" class="btn-primary"/>
                        <button special="cancel" string="Cancel" class="btn-secondary"/>
                    </footer>
                </form>
            </field>
        </record>

        <menuitem id="menu_gwo_content" name="Contents" parent="menu_gwo_training_root" action="action_gwo_content" sequence="20" groups="gwo_training.group_gwo_training_manager,gwo_training.group_gwo_training_instructor"/>
        <menuitem id="menu_gwo_enrollment" name="Participants" parent="menu_gwo_training_root" action="action_gwo_enrollment" sequence="30" groups="gwo_training.group_gwo_training_manager,gwo_training.group_gwo_training_instructor"/>
        <menuitem id="menu_gwo_results" name="Results" parent="menu_gwo_training_root" action="action_gwo_user_result" sequence="40" groups="gwo_training.group_gwo_training_manager,gwo_training.group_gwo_training_instructor"/>
    </data>
</odoo>
